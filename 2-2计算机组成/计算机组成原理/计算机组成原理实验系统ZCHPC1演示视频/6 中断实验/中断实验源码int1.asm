
org 2000h
EI
MVRD R0,0036H
CALA 2200H
MVRD R0,4000H
DEC R0
JRNZ 2007H
JR 2001H
RET

ORG 2104H
JR 2120H

ORG 2108H
JR 2130H

ORG 210CH
JR 2140H

ORG 2120H
PUSH R0
PUSH R3
MVRD R3,31H
JR 2150H

ORG 2130H
PUSH R0
PUSH R3
MVRD R3,32H
JR 2150H

ORG 2140H
PUSH R0
PUSH R3
MVRD R3,33H
JR 2150H

ORG 2150H
EI
MVRD R0,0042H
CALA 2200H
MVRD R0,0049H
CALA 2200H
MVRR R0,R3
CALA 2200H

IN 81H
SHR R0
SHR R0
JRNC 215CH
IN 80H

MVRD R0,0045H
CALA 2200H
MVRD R0,0049H
CALA 2200H
MVRR R0,R3
CALA 2200H
POP R3
POP R0
IRET

ORG 2200H
PUSH R0
IN 81H
SHR R0
JRNC 2201H
POP R0
OUT 80H
RET

END
